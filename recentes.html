<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- (O mesmo conteúdo do <head> já fornecido) -->
</head>
<body>
    <header>
        <!-- (O mesmo conteúdo do <header> já fornecido) -->
    </header>

    <div class="container" id="posts-container">
        <!-- Os posts serão carregados aqui -->
    </div>

    <footer>
        <p>ELYSSANDRO &copy; 2024</p>
    </footer>

    <script>
        function loadPosts() {
            const postsContainer = document.getElementById('posts-container');
            postsContainer.innerHTML = ''; // Limpa o conteúdo atual

            const posts = JSON.parse(localStorage.getItem('posts')) || [];

            posts.forEach((post, index) => {
                const article = document.createElement('article');
                const title = document.createElement('h2');
                title.textContent = post.title;
                const date = document.createElement('p');
                date.textContent = `Publicado em ${post.date}`;
                const content = document.createElement('p');
                content.textContent = post.content.substring(0, 100) + '...'; // Exibe um resumo do conteúdo

                const viewBtn = document.createElement('a');
                viewBtn.textContent = 'Ver mais';
                viewBtn.href = `detalhes.html?index=${index}`;
                viewBtn.className = 'delete-btn'; // Pode usar o mesmo estilo para manter a consistência

                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'Apagar';
                deleteBtn.className = 'delete-btn';
                deleteBtn.onclick = () => deletePost(index);

                article.appendChild(title);
                article.appendChild(date);
                article.appendChild(content);
                article.appendChild(viewBtn);
                article.appendChild(deleteBtn);

                postsContainer.appendChild(article);
            });
        }

        function deletePost(index) {
            const posts = JSON.parse(localStorage.getItem('posts')) || [];
            posts.splice(index, 1);
            localStorage.setItem('posts', JSON.stringify(posts));
            loadPosts(); // Recarrega os posts após a exclusão
        }

        // Carrega os posts ao abrir a página
        loadPosts();
    </script>
</body>
</html>
